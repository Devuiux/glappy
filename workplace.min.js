function getCountry(){try{return getSelectedCountry()}catch(e){return null}}function log(e){window.console&&console.log&&"undefined"!=typeof console.log&&console.log(e)}function igcCreateQueryString(e,t){var i="?";i+="store="+e;for(var o=0;o<t.length;o++){var n=t[o];i+="&itemDescription"+(o+1)+"="+encodeURIComponent(n.itemDescription),i+="&itemQuantity"+(o+1)+"="+encodeURIComponent(n.itemQuantity),i+="&itemUnitPrice"+(o+1)+"="+encodeURIComponent(n.itemUnitPrice.replace(/[\jQuery,]/g,"")),n.itemImageURL&&(i+="&itemImageURL"+(o+1)+"="+encodeURIComponent(n.itemImageURL)),n.itemSku&&(i+="&itemSku"+(o+1)+"="+encodeURIComponent(n.itemSku)),n.itemProductId&&(i+="&itemProductId"+(o+1)+"="+encodeURIComponent(n.itemProductId)),n.itemWeight&&(i+="&itemWeight"+(o+1)+"="+encodeURIComponent(n.itemWeight)),n.itemHeight&&(i+="&itemHeight"+(o+1)+"="+encodeURIComponent(n.itemHeight)),n.itemURL&&(i+="&itemURL"+(o+1)+"="+encodeURIComponent(n.itemURL)),n.itemLength&&(i+="&itemLength"+(o+1)+"="+encodeURIComponent(n.itemLength)),n.itemWidth&&(i+="&itemWidth"+(o+1)+"="+encodeURIComponent(n.itemWidth)),n.itemStatus&&(i+="&itemStatus"+(o+1)+"="+encodeURIComponent(n.itemStatus))}return i}function igcGoToCheckout(e){try{return void igcDoFormSubmit(e)}catch(t){return alert("We are sorry, something went wrong.  Please call us at (1) 801.478.2511. We will help you with your order!"),void log(t)}}function getSubDomain(){return"checkout"}function igcDoFormSubmit(e){if(jQuery("#igcForm").length>0)jQuery("#igcForm").empty();else{var t=jQuery("<form/>"),i=getCountry(),o="checkout";try{o=ig_getSubDomain()}catch(n){try{o=getSubDomain()}catch(r){}}t.attr("action","https://"+o+".iglobalstores.com/ice.jsp"+(i?"?country="+i:"")).attr("method","post").attr("id","igcForm").attr("accept-charset","utf8").appendTo(document.body)}igcDoFormFillForm()&&(jQuery("#igcForm").append('<input type="hidden" name="store"  value="'+e+'" />'),setTimeout(function(){hasUpsell?iframeLoaded():jQuery("#igcForm").submit().remove()},500))}function iframeLoaded(){jQuery("#faceboxsubmit").on("click",function(e){return console.log("rebuild form"),e.preventDefault(),$.ajax({url:"/cart",success:function(e){jQuery("#ig-cart-items").html(jQuery(e).find(".ig-cart-item")),hasUpsell=!1,igcCheckout()}}),!1})}function igcDoFormFillForm(){try{var e=igcGetItems();return!e||e.length<1?(alert("Please add something to your cart, then come back and checkout."),!1):(igcDoFormAddItemsToForm(e),igcDoFormAddInfosToForm(),!0)}catch(t){return alert("It appears that an error has occurred. Please check to make sure your item is added to your cart and ensure you are using an up-to-date internet browser."),log(t),!1}}function igcDoFormAddInfosToForm(){jQuery('<input type="hidden" name="domesticShippingCharge" value="'+domesticShippingCharge+'" />').appendTo("#igcForm"),jQuery('<input type="hidden" name="misc1" value="'+misc1+'" />').appendTo("#igcForm"),jQuery('<input type="hidden" name="misc2" value="'+misc2+'" />').appendTo("#igcForm"),jQuery('<input type="hidden" name="misc3" value="'+misc3+'" />').appendTo("#igcForm"),jQuery('<input type="hidden" name="misc4" value="'+misc4+'" />').appendTo("#igcForm"),jQuery('<input type="hidden" name="misc5" value="'+misc5+'" />').appendTo("#igcForm"),jQuery('<input type="hidden" name="misc6" value="'+misc6+'" />').appendTo("#igcForm"),jQuery('<input type="hidden" name="customerName" value="'+customerName+'" />').appendTo("#igcForm"),jQuery('<input type="hidden" name="customerCompany" value="'+customerCompany+'" />').appendTo("#igcForm"),jQuery('<input type="hidden" name="customerEmail" value="'+customerEmail+'" />').appendTo("#igcForm"),jQuery('<input type="hidden" name="customerPhone" value="'+customerPhone+'" />').appendTo("#igcForm"),jQuery('<input type="hidden" name="customerAltPhone" value="'+customerAltPhone+'" />').appendTo("#igcForm"),jQuery('<input type="hidden" name="customerAddress1" value="'+customerAddress1+'" />').appendTo("#igcForm"),jQuery('<input type="hidden" name="customerAddress2" value="'+customerAddress2+'" />').appendTo("#igcForm"),jQuery('<input type="hidden" name="customerCity" value="'+customerCity+'" />').appendTo("#igcForm"),jQuery('<input type="hidden" name="customerState" value="'+customerState+'" />').appendTo("#igcForm"),jQuery('<input type="hidden" name="customerCountry" value="'+customerCountry+'" />').appendTo("#igcForm"),jQuery('<input type="hidden" name="customerZip" value="'+customerZip+'" />').appendTo("#igcForm"),jQuery('<input type="hidden" name="customerNote" value="'+customerNote+'" />').appendTo("#igcForm"),jQuery('<input type="hidden" name="shippingAmountOverride" value="'+shippingAmountOverride+'" />').appendTo("#igcForm")}function igcDoFormAddItemsToForm(e){jQuery(e).each(function(e,t){var i=["itemDescription","itemQuantity","itemUnitPrice","itemImageURL","itemURL","itemWeight","itemWeightUnits","itemLength","itemWidth","itemHeight","itemProductId","itemSku","itemNonShippable","itemBrand","itemCustomization","itemStatus","itemDescriptionLong","itemDescriptionDetailed","itemFabricContent","itemColor","itemLtlClass","itemMaterial","itemCountryOfOrigin","itemCategory","itemHSCode"];jQuery(i).each(function(i,o){t[o]&&("itemUnitPrice"==o&&(t[o]=t[o].replace(/[^0-9.-]/g,"")),jQuery(document.createElement("input")).attr("type","hidden").attr("name",o+(e+1)).attr("value",t[o]).appendTo("#igcForm"))})})}function ig_getParameterByName(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),i=t.exec(location.search);return null==i?"":decodeURIComponent(i[1].replace(/\+/g," "))}function getSelectedCountry(){return ig_country}function igcCheckout(){igcGoToCheckout("506")}function getSubDomain(){return"modko"}function igcGetItems(){var e=new Array,t=jQuery(".ig-cart-item");return jQuery(t).each(function(){var t=jQuery(this);e.push({itemDescription:jQuery.trim(t.data("name")),itemQuantity:t.data("qty"),itemUnitPrice:(parseFloat(t.data("price"))/100).toString(),itemURL:t.data("url"),itemImageURL:t.data("img"),itemSku:t.data("sku"),itemProductId:t.data("product"),itemWeight:t.data("weight")||null,itemWeightUnits:"G"})}),e}function ig_domesticActions(){jQuery(".shipping-calculator").show()}function ig_internationalActions(){console.log("international"),jQuery(".shipping-calculator").hide()}function ig_ice_countryChanged(){ig_isDomesticCountry()?ig_domesticActions():ig_internationalActions()}function igcIceReady(){var e=jQuery("a[href='/checkout']");if(e.click(function(){return ig_country?ig_isDomesticCountry()?!0:(igcCheckout(),!1):void 0}),-1!=window.location.href.indexOf("cart")){ig_isDomesticCountry()||ig_internationalActions();var t=jQuery("#checkout");t.click(function(e){return ig_country?ig_isDomesticCountry()?!0:(e.preventDefault(),igcCheckout(),!1):void 0})}}var domesticShippingCharge="",misc1="",misc2="",misc3="",misc4="",misc5="",misc6="",customerName="",customerCompany="",customerEmail="",customerPhone="",customerAltPhone="",customerAddress1="",customerAddress2="",customerCity="",customerState="",customerCountry="",customerZip="",shippingAmountOverride="",customerNote="";jQuery(document).ready(function(){igcIceReady()});